import React from 'react';

module.exports = React.createClass({
  // constructor(props) {
  //  super(props);
  //  this.state = {
  //    component: ''
  //  };
  //  this.handleComponentsChange = this.handleComponentsChange.bind(this);
  // }

  handleComponentsChange: function(event) {
    var value = event.value;
    this.setState({component: event.value});
  },

  addInputField: function(e) {
    e.preventDefault();

    var inputs = this.state.inputs;
    inputs.push({name: null});
    this.setState({inputs : inputs});
  },
  removeInputField: function(index) {
    var inputs = this.state.inputs;
    inputs.splice(index, 1);
    this.setState({inputs : inputs});
  },
  handleSubmit: function (e) {
    e.preventDefault();
  },
  getInitialState: function() {
    return {inputs : []};
  },
  render: function () {
    let letterStyle = {
      border: 'solid',
      borderWidth: '2px',
      padding: '20px 25px 20px 100px'
    };
    let addComponent = {
      maxHeight: '100%',
      overflow: 'scroll'
    };

    var inputs = this.state.inputs;
    return (
      <div style={addComponent}>

        <form>
          <button className="btn btn-info " >Save</button>
        </form>

        <div>
        <h2 className="center"> Add Invoice </h2>
        <div style={letterStyle}>
          <div className="clearfix form-group">
            <div className = "col-lg-2 col-lg-offset-2">
              <label >Invoice*</label>
              <input className="textboxSize" type="text" name="Invoice" id="invoice" onChange={ this.handleFields }  placeholder="invoice number" />
            </div>
            <div className = "col-lg-2 col-lg-offset-2">
              <label >Invoicer*</label>
              <input className="textboxSize" type="text" name="Invoicer" id="invoicer" onChange={ this.handleFields }  placeholder="invoicer name" />
            </div>
          </div>
          <div className="clearfix form-group">
            <div className="col-lg-2 col-lg-offset-2">
              <label >Invoice Date*</label>
              <input className="textboxSize" type="text" name="Invoice_date" id="invoice_date" onChange={ this.handleFields } placeholder="invoice date"/>
            </div>
            <div className = "col-lg-2 col-lg-offset-2">
              <label >Contact*</label>
              <input className="textboxSize" type="text" name="Contact" id="contact" onChange={ this.handleFields }  placeholder="contact" />
            </div>
          </div>
          <div className="clearfix form-group">
            <div className="col-lg-2 col-lg-offset-2">
              <label >Description</label>
              <textarea className="textAreaSize" name="Description" id="description" onChange={ this.handleFields } placeholder="description"/>
            </div>
            <div className="col-lg-2 col-lg-offset-2">
              <label >Address</label>
              <textarea className="textAreaSize" name="Address" id="address" onChange={ this.handleFields } placeholder="address"/>
            </div>
          </div>
        </div>
      </div>

        <label className="col-sm-3 control-label">Components </label>
        <div className="form-group">
          <div className="col-sm-4">
            <button className="btn btn-success btn-block" onClick={this.addInputField}> Add Components </button>
            {inputs.map(function (input, index) {
              var ref = "input_" + index;
              return (
                <div className="input-group" >
                  <div>
                    <span className="input-group-addon" onClick={this.removeInputField.bind(this, index)} id={ref} ><button type="button" className="btn btn-danger btn-sm">Remove</button></span>
                  </div>
                  <div>
                    <label> Component #{index + 1} </label>
                    <input type="text" className="form-control margin-bottom-12px" onChange={ this.handleComponentsChange } id={'serial' + index} placeholder="Serial" ref={ref} aria-describedby={ref} />
                    <input type="text" className="form-control margin-bottom-12px" id={'component' + index} placeholder="Component Name" ref={ref} aria-describedby={ref} />
                    <input type="text" className="form-control margin-bottom-12px" id={'warranty' + index} placeholder="11/12/2018" ref={ref} aria-describedby={ref} />
                    <input type="text" className="form-control margin-bottom-12px" id={'description' + index} placeholder="Description" ref={ref} aria-describedby={ref} />
                  </div>
                </div>
              )
            }.bind(this))}
          </div>
        </div>


      </div>
    );
  }
});
